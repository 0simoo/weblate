{% extends "base.html" %}
{% load i18n %}
{% load translations %}
{% load humanize %}

{% block breadcrumbs %}
<li><a href="{% url 'checks' %}">{% trans "Checks" %}</a></li>
<li><a href="{% url 'show_check' name=check.check_id %}">{{ check.name }}</a></li>
{% endblock %}

{% block content %}

<div class="row">
<div class="col-lg-6">

<table class="sort table progress-table table-listing">
    <thead>
        <tr>
            <th>{% trans "Project" %}</th>
            <th class="number">{% trans "Total" %}</th>
            <th class="number">{% trans "Dismissed" %}</th>
            <th class="number">{% trans "Active" %}</th>
            <th class="number">{% trans "Translated" %}</th>
        </tr>
    </thead>
    <tbody>
    {% for row in rows %}
        <tr data-href="{% url 'show_check_path' name=row.check_obj.check_id path=row.get_url_path %}{{ url_params }}" class="clickable-row" id="row-{{ row.pk }}">
            <th><a href="{% url 'show_check_path' name=row.check_obj.check_id path=row.get_url_path %}{{ url_params }}">{{ row }}</a></th>
            <td class="number" data-value="{{ row.check_count }}">{{ row.check_count |intcomma}}</td>
            <td class="number" data-value="{{ row.dismissed_check_count }}">{{ row.dismissed_check_count |intcomma}}</td>
            <td class="number" data-value="{{ row.active_check_count }}">{{ row.active_check_count |intcomma}}</td>
            <td class="number" data-value="{{ row.translated_check_count }}">{{ row.translated_check_count |intcomma}}</td>
        </tr>
        <tr data-parent="row-{{ row.pk }}">
          <td colspan="5" class="progress-row autocolspan">
            <div class="progress">
              <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="{{ row.check_progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ row.check_progress }}%;"></div>
            </div>
          </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

</div>

<div class="col-lg-6">
<div class="panel panel-default">
  <div class="panel-heading"><h4 class="panel-title">{% trans "Check details" %}</h4></div>
  <div class="panel-body">
    <p>
    {{ check.description }}
    </p>
  </div>
  <div class="panel-footer">
  <a class="btn btn-primary" href="{% documentation check %}">{% trans "Documentation" %}</a>
  </div>
</div>
</div>
</div>

</div>
{% endblock %}
