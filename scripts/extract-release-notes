#!/usr/bin/env python3

import sys

if len(sys.argv) != 2:
    raise Exception('Missing argument')

start = 'weblate {}'.format(sys.argv[1])
display = False

with open('docs/changes.rst', 'r') as handle:
    for line in handle:
        if display:
            if line.startswith('weblate '):
                display = False
            elif not line.startswith('--'):
                print(line, end='')
        elif line.startswith(start):
            display = True
            print(line, end='')
